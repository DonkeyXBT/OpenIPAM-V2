@import "tailwindcss";

/* ─── Apple HIG Design Tokens (Tailwind v4 Theme) ─────────────────────────── */

@theme {
  --color-system-blue: #0A84FF;
  --color-system-green: #30D158;
  --color-system-orange: #FF9F0A;
  --color-system-red: #FF453A;
  --color-system-purple: #BF5AF2;
  --color-system-teal: #64D2FF;
  --color-system-indigo: #5E5CE6;
  --color-system-pink: #FF375F;
  --color-system-yellow: #FFD60A;
  --color-system-cyan: #5AC8FA;

  --color-neutral-50: #F9FAFB;
  --color-neutral-100: #F2F2F7;
  --color-neutral-200: #E5E5EA;
  --color-neutral-300: #D1D1D6;
  --color-neutral-400: #AEAEB2;
  --color-neutral-500: #8E8E93;
  --color-neutral-600: #636366;
  --color-neutral-700: #48484A;
  --color-neutral-800: #3A3A3C;
  --color-neutral-900: #2C2C2E;
  --color-neutral-950: #1C1C1E;

  --radius-sm: 6px;
  --radius-md: 10px;
  --radius-lg: 14px;
  --radius-xl: 20px;
  --radius-2xl: 28px;

  --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.03);
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.06);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.05), 0 1px 4px rgba(0, 0, 0, 0.04);
  --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.08), 0 2px 8px rgba(0, 0, 0, 0.04);
  --shadow-xl: 0 16px 48px rgba(0, 0, 0, 0.12), 0 4px 16px rgba(0, 0, 0, 0.06);

  --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
  --font-mono: 'SF Mono', 'Fira Code', 'Cascadia Code', Menlo, Consolas, monospace;
}

/* ─── Light Theme Variables ────────────────────────────────────────────────── */

:root {
  --surface-primary: #FFFFFF;
  --surface-secondary: #F5F5F7;
  --surface-tertiary: #E8E8ED;
  --surface-elevated: #FFFFFF;

  --text-primary: #1D1D1F;
  --text-secondary: #6E6E73;
  --text-tertiary: #86868B;
  --text-quaternary: #AEAEB2;
  --text-on-accent: #FFFFFF;

  --border-primary: rgba(0, 0, 0, 0.06);
  --border-secondary: rgba(0, 0, 0, 0.04);
  --border-focus: #0A84FF;

  --glass-bg: rgba(255, 255, 255, 0.78);
  --glass-border: rgba(255, 255, 255, 0.6);

  --sidebar-bg: #1D1D1F;
  --sidebar-text: rgba(255, 255, 255, 0.88);
  --sidebar-text-muted: rgba(255, 255, 255, 0.45);
  --sidebar-hover: rgba(255, 255, 255, 0.07);
  --sidebar-active: rgba(10, 132, 255, 0.18);
  --sidebar-accent: #0A84FF;

  --card-bg: #FFFFFF;
  --card-border: rgba(0, 0, 0, 0.06);
  --card-shadow: 0 1px 3px rgba(0, 0, 0, 0.04);

  --input-bg: #F5F5F7;
  --input-border: rgba(0, 0, 0, 0.1);
  --input-focus-ring: rgba(10, 132, 255, 0.25);

  --table-header-bg: #FAFAFC;
  --table-row-hover: rgba(0, 0, 0, 0.02);
  --table-row-selected: rgba(10, 132, 255, 0.06);

  --scrollbar-thumb: rgba(0, 0, 0, 0.12);
  --scrollbar-track: transparent;

  color-scheme: light;
}

/* ─── Dark Theme ───────────────────────────────────────────────────────────── */

.dark {
  --surface-primary: #1C1C1E;
  --surface-secondary: #2C2C2E;
  --surface-tertiary: #3A3A3C;
  --surface-elevated: #2C2C2E;

  --text-primary: #F5F5F7;
  --text-secondary: #A1A1A6;
  --text-tertiary: #86868B;
  --text-quaternary: #636366;
  --text-on-accent: #FFFFFF;

  --border-primary: rgba(255, 255, 255, 0.08);
  --border-secondary: rgba(255, 255, 255, 0.04);

  --glass-bg: rgba(28, 28, 30, 0.78);
  --glass-border: rgba(255, 255, 255, 0.06);

  --sidebar-bg: #000000;
  --sidebar-hover: rgba(255, 255, 255, 0.06);

  --card-bg: #1C1C1E;
  --card-border: rgba(255, 255, 255, 0.06);
  --card-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);

  --input-bg: #2C2C2E;
  --input-border: rgba(255, 255, 255, 0.1);

  --table-header-bg: #232325;
  --table-row-hover: rgba(255, 255, 255, 0.03);
  --table-row-selected: rgba(10, 132, 255, 0.12);

  --scrollbar-thumb: rgba(255, 255, 255, 0.12);

  color-scheme: dark;
}

/* ─── Base Reset ───────────────────────────────────────────────────────────── */

*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-family: var(--font-sans);
  font-size: 16px;
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
}

body {
  background: var(--surface-secondary);
  color: var(--text-primary);
  min-height: 100dvh;
  overflow: hidden;
}

#root {
  min-height: 100dvh;
}

/* ─── Scrollbar ────────────────────────────────────────────────────────────── */

::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: var(--scrollbar-track); }
::-webkit-scrollbar-thumb { background: var(--scrollbar-thumb); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: rgba(0,0,0,0.2); }
.dark ::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.2); }

::selection { background: rgba(10, 132, 255, 0.2); color: inherit; }

:focus-visible {
  outline: 2.5px solid var(--border-focus);
  outline-offset: 2px;
  border-radius: var(--radius-sm);
}

/* ─── Liquid Glass ─────────────────────────────────────────────────────────── */

.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(20px) saturate(1.8);
  -webkit-backdrop-filter: blur(20px) saturate(1.8);
  border: 1px solid var(--glass-border);
}

.glass-prominent {
  background: var(--glass-bg);
  backdrop-filter: blur(40px) saturate(2);
  -webkit-backdrop-filter: blur(40px) saturate(2);
  border: 1px solid var(--glass-border);
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.06);
}

/* ─── Typography Scale (Apple HIG) ─────────────────────────────────────────
 *  Prefixed with `typo-` to avoid conflicts with Tailwind's text-* utilities.
 *  Use these as className="typo-headline" etc.
 * ──────────────────────────────────────────────────────────────────────────── */

.typo-large-title { font-size: 34px; font-weight: 700; line-height: 1.12; letter-spacing: -0.4px; }
.typo-title-1 { font-size: 28px; font-weight: 700; line-height: 1.18; letter-spacing: -0.3px; }
.typo-title-2 { font-size: 22px; font-weight: 700; line-height: 1.22; letter-spacing: -0.2px; }
.typo-title-3 { font-size: 20px; font-weight: 600; line-height: 1.25; letter-spacing: -0.1px; }
.typo-headline { font-size: 17px; font-weight: 600; line-height: 1.35; }
.typo-body { font-size: 15px; font-weight: 400; line-height: 1.47; }
.typo-callout { font-size: 14px; font-weight: 400; line-height: 1.43; }
.typo-subhead { font-size: 13px; font-weight: 400; line-height: 1.38; }
.typo-footnote { font-size: 12px; font-weight: 400; line-height: 1.33; }
.typo-caption { font-size: 11px; font-weight: 400; line-height: 1.27; letter-spacing: 0.1px; }
.typo-mono { font-family: var(--font-mono); font-size: 13px; font-variant-ligatures: none; }

/* ─── Animations ───────────────────────────────────────────────────────────── */

@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes fadeInUp { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }
@keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }
@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

.animate-fade-in { animation: fadeIn 0.15s ease-out forwards; }
.animate-fade-in-up { animation: fadeInUp 0.25s ease-out forwards; }
.animate-shimmer {
  background: linear-gradient(90deg, var(--surface-secondary) 25%, var(--surface-tertiary) 50%, var(--surface-secondary) 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
}

.stagger > * { opacity: 0; animation: fadeInUp 0.25s ease-out forwards; }
.stagger > *:nth-child(1) { animation-delay: 0ms; }
.stagger > *:nth-child(2) { animation-delay: 40ms; }
.stagger > *:nth-child(3) { animation-delay: 80ms; }
.stagger > *:nth-child(4) { animation-delay: 120ms; }
.stagger > *:nth-child(5) { animation-delay: 160ms; }
.stagger > *:nth-child(6) { animation-delay: 200ms; }
.stagger > *:nth-child(7) { animation-delay: 240ms; }
.stagger > *:nth-child(8) { animation-delay: 280ms; }

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
